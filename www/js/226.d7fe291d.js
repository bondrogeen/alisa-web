"use strict";(self["webpackChunkclient2"]=self["webpackChunkclient2"]||[]).push([[226],{1226:function(e,a,l){l.r(a),l.d(a,{default:function(){return f}});l(7658);var o=l(3396),n=l(7139),u=l(4870),r=l(3816),s=l(2483);const t={class:"page-login"},d={class:"page-login__inner"},i={class:"card-login"},c=(0,o._)("i",{class:"icon icon-chevron-left"},null,-1),v=[c],p={class:"card-login__header"},m=(0,o._)("img",{width:"70",height:"70",src:"/images/logo-alisa.jpg",alt:""},null,-1),g={class:"card-login__body"},w={class:"card-login__footer"};var _={__name:"LoginView",setup(e){const a=(0,s.tv)(),l=(0,r.AY)(),{token:c}=(0,r.Jk)(l),_=(0,u.iH)({username:"",password:""}),k=(0,u.iH)(!0),f=(0,u.iH)(!1),y=(0,o.Fl)((()=>Boolean(k.value?!c.value:!_.value.username||!_.value.password))),h=async()=>{f.value=!0;const e=await l.onInit();e&&a.push("/"),f.value=!1},b=async()=>{f.value=!0;const e=await l.onYandexToken(_.value);e&&(k.value=!0),f.value=!1};return(e,a)=>{const l=(0,o.up)("a-input"),r=(0,o.up)("a-field"),s=(0,o.up)("a-button");return(0,o.wg)(),(0,o.iD)("div",t,[(0,o._)("div",d,[(0,o._)("div",i,[k.value?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",{key:0,class:"card-login__fab",onClick:a[0]||(a[0]=e=>k.value=!0)},v)),(0,o._)("div",p,[m,(0,o._)("h2",null,(0,n.zw)(k.value?"Connection":"Login Yandex"),1)]),(0,o._)("div",g,[k.value?((0,o.wg)(),(0,o.j4)(r,{key:0,label:"Token",error:e.error},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{modelValue:(0,u.SU)(c),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,u.dq)(c)?c.value=e:null),type:"text",autocomplete:"token",name:"token",placeholder:"Enter your token",onFocus:a[2]||(a[2]=a=>e.error="")},null,8,["modelValue"])])),_:1},8,["error"])):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Wm)(r,{label:"Login"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{modelValue:_.value.username,"onUpdate:modelValue":a[3]||(a[3]=e=>_.value.username=e),type:"text",autocomplete:"username",name:"username",placeholder:"Enter your login",onFocus:a[4]||(a[4]=a=>e.error="")},null,8,["modelValue"])])),_:1}),(0,o.Wm)(r,{error:e.error,label:"Password"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{modelValue:_.value.password,"onUpdate:modelValue":a[5]||(a[5]=e=>_.value.password=e),type:"password",autocomplete:"password",name:"password",placeholder:"Enter your password",onFocus:a[6]||(a[6]=a=>e.error="")},null,8,["modelValue"])])),_:1},8,["error"])],64)),k.value?((0,o.wg)(),(0,o.iD)("span",{key:2,onClick:a[7]||(a[7]=e=>k.value=!1)},"Get token")):(0,o.kq)("",!0)]),(0,o._)("div",w,[(0,o.Wm)(s,{full:"",color:"primary",disabled:(0,u.SU)(y),loading:f.value,onClick:a[8]||(a[8]=e=>k.value?h():b())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,n.zw)(k.value?"Connecting":"Get token"),1)])),_:1},8,["disabled","loading"])])])])])}}};const k=_;var f=k}}]);