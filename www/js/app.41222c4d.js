(function(){var e={7531:function(e,t,n){"use strict";var o=n(9242),i=n(1020),r=n(3396),a=n(4870),s=n(7139),c=n(2066),l=n(683);n(7658);const u=e=>((0,r.dD)("data-v-caae6d8e"),e=e(),(0,r.Cn)(),e),d={class:"header"},f={class:"header__inner container"},p=u((()=>(0,r._)("div",{class:"header__center"},null,-1))),v={class:"header__profile"},m=["onClick"];var g={__name:"AppHeader",props:{token:{type:String,default:""}},setup(e){const t=[{name:"Profile",icon:"icon-user",path:""},{name:"Exit",icon:"icon-log-out",path:""}];return(n,o)=>{const i=(0,r.up)("a-list"),a=(0,r.up)("a-dropdown");return(0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("div",f,[(0,r._)("div",{class:"header__brand",onClick:o[0]||(o[0]=e=>n.$router.push({name:"Home"}))},"Alisa Web"),p,(0,r._)("div",v,[(0,r.Wm)(a,null,{activator:(0,r.w5)((({on:t})=>[(0,r._)("i",{class:(0,s.C_)(["icon",e.token?"icon-settings":"icon-user"]),onClick:t.click},null,10,m)])),default:(0,r.w5)((()=>[(0,r.Wm)(i,{list:t})])),_:1})])])])}}},h=n(89);const _=(0,h.Z)(g,[["__scopeId","data-v-caae6d8e"]]);var y=_;const w=e=>((0,r.dD)("data-v-2af0730a"),e=e(),(0,r.Cn)(),e),k={class:"footer"},b={class:"footer__copyright container"},S=w((()=>(0,r._)("a",{href:"https://github.com/bondrogeen/alisa-web",target:"blank"},[(0,r._)("i",{class:"icon icon-github"})],-1))),C={class:"footer__version"};function O(e,t){return(0,r.wg)(),(0,r.iD)("div",k,[(0,r._)("div",b,[(0,r._)("p",null,(0,s.zw)(`© ${(new Date).getFullYear()} «Alisa web»`),1),S,(0,r._)("span",C,"ver."+(0,s.zw)(),1)])])}const A={},D=(0,h.Z)(A,[["render",O],["__scopeId","data-v-2af0730a"]]);var E=D;const x={class:"app"},j={class:"app__header"},T={class:"app__body"},I={class:"app__footer"};var L={__name:"App",setup(e){const t=(0,l.b7)(),{onMessage:n,onConnect:o,onDisconnect:i,onSend:u,onInit:d}=t,{socket:f,devices:p,init:v}=(0,l.Jk)(t);return f.value=(0,c.io)(),f.value.on("connect",o),f.value.on("disconnect",i),f.value.on("data",n),f.value.on("init",d),(e,t)=>{const n=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",x,[(0,r._)("div",j,[(0,r.Wm)((0,a.SU)(y),(0,s.vs)((0,r.F4)((0,a.SU)(v))),null,16)]),(0,r._)("div",T,[(0,r.Wm)(n,{devices:(0,a.SU)(p),onSend:(0,a.SU)(u)},null,8,["devices","onSend"])]),(0,r._)("div",I,[(0,r.Wm)((0,a.SU)(E))])])}}};const U=(0,h.Z)(L,[["__scopeId","data-v-7762397c"]]);var W=U,$=n(2483);function B({next:e,router:t}){const n=(0,l.b7)();return console.log(t),console.log(n.isToken),e()}function F({next:e,to:t}){return console.log(t.name),e()}const N=[{path:"/",name:"Home",component:()=>n.e(390).then(n.bind(n,2390)),meta:{middleware:[B]}},{path:"/login",name:"Login",component:()=>n.e(639).then(n.bind(n,8639)),meta:{middleware:[F]}},{path:"/player/:id",name:"Player",component:()=>n.e(701).then(n.bind(n,4701)),meta:{middleware:[B,F]}}];function P(e,t,n){const o=t[n];return o?(...i)=>{e.next(...i);const r=P(e,t,n+1);o({...e,next:r})}:e.next}const Z=(0,$.p7)({history:(0,$.PO)("/"),routes:N});Z.beforeEach(((e,t,n)=>{if(e.meta.middleware){const o=Array.isArray(e.meta.middleware)?e.meta.middleware:[e.meta.middleware],i={from:t,next:n,router:Z,to:e},r=P(i,o,1);return o[0]({...i,next:r})}return n()}));var H=Z;const z=e=>{const t=n(3624);t.keys().forEach((n=>{const o=t(n),i=n.replace(/^.*[\\/]/,"").replace(/\.\w+$/,"");e.component(i,o.default||o)}))};var M=z;const q={name:"outside",mounted(e,t){e.clickOutsideEvent=function(n){e===n.target||e.contains(n.target)||t.value(n,e)},document.body.addEventListener("click",e.clickOutsideEvent)},unmounted(e){document.body.removeEventListener("click",e.clickOutsideEvent)}};var J=q,V=[J];const Y=(0,i.WB)(),Q=(0,o.ri)(W);V.forEach((e=>Q.directive(e.name,e))),M(Q),Q.use(Y),Q.use(H),Q.mount("#app")},683:function(e,t,n){"use strict";n.d(t,{AY:function(){return s},b7:function(){return i},Jk:function(){return o.Jk}});var o=n(1020),i=((0,o.Q_)("app",{state:()=>({isLoading:!1,dialog:!1,content:{message:""},headerShadow:!1}),actions:{async setDialog(e){this.dialog=!0,this.content=e,this.content.message=e?.message||""},setLoader(e){const t=document.querySelector("#app-loader");t&&(t.style.display=e?"block":"none")}}}),(0,o.Q_)("socket",{state:()=>({devices:{},isConnected:!1,socket:null,init:null}),actions:{onMessage(e){const{id:t,ip:n,data:o}=e;t&&n&&o&&(this.devices[t]=e),console.log(e)},onInit(e){this.init=e,console.log(e)},onSend(e,t){console.log(e,t),this.socket&&this.isConnected&&this.socket.emit("send",e,t)},onConnect(e){this.isConnected=!0,console.log(e)},onDisconnect(e){this.isConnected=!1,console.log(e)}},getters:{isDevice:e=>Boolean(Object.keys(e.devices).length),isToken:e=>Boolean(e?.init?.token)}}));const r="/v1/api";var a={get:(e,t)=>fetch(`${r}${e}`,{method:"GET",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),post:(e,t)=>fetch(`${r}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},s=(0,o.Q_)("service",{state:()=>({getToken:!0,username:"",password:"",token:"",error:"",loading:!1}),actions:{async onYandexToken(){const{username:e,password:t}=this;if(e||t){this.loading=!0;const n=await a.post("/service/token",{username:e,password:t}),o=await n.json();o.access_token&&(this.token=o.access_token,this.getToken=!0),console.log(o),this.loading=!1}},async onConection(){if(this.token){this.loading=!0;const e=await a.post("/service/conection",{token:this.token}),t=await e.json();console.log(t),this.loading=!1}}}})},9239:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return c}});var o=n(3396),i=n(7139),r={__name:"AButton",props:{text:{type:String,default:""},color:{type:String,default:""},full:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const n=e,r=e=>{n.loading||n.disabled||t("click",e)};return(t,n)=>{const a=(0,o.up)("a-spinner");return(0,o.wg)(),(0,o.iD)("button",{class:(0,i.C_)(["a-button",[`a-button--${e.color}`,{"a-button--full":e.full},{"a-button--loading":e.loading},{"a-button--disabled":e.disabled}]]),onClick:r},[e.loading?((0,o.wg)(),(0,o.j4)(a,{key:1})):(0,o.WI)(t.$slots,"default",{key:0},(()=>[(0,o.Uk)((0,i.zw)(e.text),1)]))],2)}}},a=n(89);const s=(0,a.Z)(r,[["__scopeId","data-v-4783e914"]]);var c=s},7721:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o=n(3396),i=n(7139),r=n(9242),a=n(4870);const s={class:"a-dropdown__activator"};var c={__name:"ADropdown",props:{top:{type:String,default:"calc(100% + 5px)"},left:{type:String,default:""},right:{type:String,default:"0"},hideOnClick:{type:Boolean,default:!0},height:{type:String,default:"200px"},width:{type:String,default:"100%"}},emits:["click","show","close"],setup(e,{emit:t}){const n=e,c=(0,a.iH)(!1),l=(0,o.Fl)((()=>({top:n.top,left:n.left,right:n.right,"min-width":n.width}))),u=e=>{console.log(e),c.value&&p()},d=()=>{c.value?n.hideOnClick&&p():f(),t("click",c.value)},f=()=>{c.value=!0,t("show")},p=()=>{c.value=!1,t("close")};return(e,t)=>{const n=(0,o.Q2)("outside");return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",{class:(0,i.C_)(["a-dropdown",{"a-dropdown--opened":c.value}])},[(0,o._)("div",s,[(0,o.WI)(e.$slots,"activator",{on:{click:d},show:c.value})]),(0,o.Wm)(r.uT,{name:"slide-up"},{default:(0,o.w5)((()=>[c.value?((0,o.wg)(),(0,o.iD)("div",{key:0,style:(0,i.j5)((0,a.SU)(l)),class:"a-dropdown__content",onClick:d},[(0,o.WI)(e.$slots,"default",{onShow:f,onHide:p,show:c.value})],4)):(0,o.kq)("",!0)])),_:3})],2)),[[n,u]])}}};const l=c;var u=l},2601:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var o=n(3396),i=n(7139);const r={class:"a-field"},a={class:"a-field__label"},s={class:"a-field__body"},c={class:"a-field__hint"};var l={__name:"AField",props:{label:{type:String,default:""},error:{type:String,default:""}},setup(e){return(t,n)=>((0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("label",a,(0,i.zw)(e.label),1),(0,o._)("div",s,[(0,o.WI)(t.$slots,"default")]),(0,o._)("div",c,(0,i.zw)(e.error),1)]))}},u=n(89);const d=(0,u.Z)(l,[["__scopeId","data-v-5978581e"]]);var f=d},7178:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o=n(3396),i=n(4870),r=n(9242);const a=["type","placeholder"];var s={__name:"AInput",props:{modelValue:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},value:{type:String,default:""}},emits:["update:modelValue","focus"],setup(e,{emit:t}){const n=e,s=(0,o.Fl)({set:e=>{console.log(e),t("update:modelValue",e)},get:()=>n.modelValue}),c=e=>t("focus",e);return(t,n)=>(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>(0,i.dq)(s)?s.value=e:null),type:e.type,autocomplete:"token",class:"a-input",name:"token",placeholder:e.placeholder,onFocus:c},null,40,a)),[[r.YZ,(0,i.SU)(s)]])}},c=n(89);const l=(0,c.Z)(s,[["__scopeId","data-v-4a5ed251"]]);var u=l},5945:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var o=n(3396),i=n(7139);const r={class:"a-list"},a=["onClick"];var s={__name:"AList",props:{list:{type:Array,default:()=>[]}},emits:["click"],setup(e,{emit:t}){const n=e=>t("click",e);return(t,s)=>((0,o.wg)(),(0,o.iD)("ul",r,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.list,((e,r)=>((0,o.wg)(),(0,o.iD)("li",{key:"list_"+r,class:"a-list__item",onClick:t=>n(e)},[(0,o.WI)(t.$slots,"default",{item:e},(()=>[(0,o.Uk)((0,i.zw)(e.name),1)]))],8,a)))),128))]))}};const c=s;var l=c},9280:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var o=n(3396),i=n(7139);const r=e=>((0,o.dD)("data-v-74186c62"),e=e(),(0,o.Cn)(),e),a=r((()=>(0,o._)("div",null,null,-1))),s=r((()=>(0,o._)("div",null,null,-1))),c=r((()=>(0,o._)("div",null,null,-1))),l=r((()=>(0,o._)("div",null,null,-1))),u=[a,s,c,l];function d(e,t,n,r,a,s){return(0,o.wg)(),(0,o.iD)("div",{class:"lds-ring",style:(0,i.j5)({width:2*n.radius+"px",height:2*n.radius+"px"})},u,4)}var f={name:"a-spinner",props:{radius:{type:Number,default:14}}},p=n(89);const v=(0,p.Z)(f,[["render",d],["__scopeId","data-v-74186c62"]]);var m=v},3624:function(e,t,n){var o={"./AButton.vue":9239,"./ADropdown.vue":7721,"./AField.vue":2601,"./AInput.vue":7178,"./AList.vue":5945,"./ASpinner.vue":9280};function i(e){var t=r(e);return n(t)}function r(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=3624}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,i,r){if(!o){var a=1/0;for(u=0;u<e.length;u++){o=e[u][0],i=e[u][1],r=e[u][2];for(var s=!0,c=0;c<o.length;c++)(!1&r||a>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(s=!1,r<a&&(a=r));if(s){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[o,i,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{390:"ef53ca11",639:"6f5a7f9e",701:"c6031e13"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{390:"8e375f1a",639:"0e3e59a0",701:"e7770e45"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="client2:";n.l=function(o,i,r,a){if(e[o])e[o].push(i);else{var s,c;if(void 0!==r)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==o||d.getAttribute("data-webpack")==t+r){s=d;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+r),s.src=o),e[o]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(p);var i=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var e=function(e,t,n,o){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var r=function(r){if(i.onerror=i.onload=null,"load"===r.type)n();else{var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=a,c.request=s,i.parentNode.removeChild(i),o(c)}};return i.onerror=i.onload=r,i.href=t,document.head.appendChild(i),i},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var i=n[o],r=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===e||r===t))return i}var a=document.getElementsByTagName("style");for(o=0;o<a.length;o++){i=a[o],r=i.getAttribute("data-href");if(r===e||r===t)return i}},o=function(o){return new Promise((function(i,r){var a=n.miniCssF(o),s=n.p+a;if(t(a,s))return i();e(o,s,i,r)}))},i={143:0};n.f.miniCss=function(e,t){var n={390:1,639:1,701:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=o(e).then((function(){i[e]=0}),(function(t){throw delete i[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,o){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)o.push(i[2]);else{var r=new Promise((function(n,o){i=e[t]=[n,o]}));o.push(i[2]=r);var a=n.p+n.u(t),s=new Error,c=function(o){if(n.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var r=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",s.name="ChunkLoadError",s.type=r,s.request=a,i[1](s)}};n.l(a,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,r,a=o[0],s=o[1],c=o[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(c)var u=c(n)}for(t&&t(o);l<a.length;l++)r=a[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},o=self["webpackChunkclient2"]=self["webpackChunkclient2"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(7531)}));o=n.O(o)})();